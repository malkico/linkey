!function(e){var o={};function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)t.d(n,r,function(o){return e[o]}.bind(null,r));return n},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="",t(t.s=1)}([,function(e,o,t){e.exports=t(2)},function(e,o,t){const n=t(3),r=e=>{var o=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));if(o)return o[2]};console.log("follower cookie => %s",r("follower_id")),$(()=>{n.customize_footer();var e=$(window).width()+$(window).height();$(window).resize((function(){$(window).width()+$(window).height()!=e?(console.log("keyboard show up"),$(".ads").hide(),$(".influencer").hide()):(console.log("keyboard closed"),$(".ads").show(),$(".influencer").show())}));const o=io.connect("127.0.0.1:3000");$.get("https://www.instagram.com/"+$("body").data("influencerInstaUrl")+"/?__a=1").done((function(e){if(Object.keys(e).length){const o=e.graphql.user.full_name,t=e.graphql.user.username,n=e.graphql.user.profile_pic_url_hd;$(".login span").text(o),$(".login small").text(t),$(".photo img").attr("src",n)}}));const t=$("body").data("influencerLinks"),i=e=>{const o=t.filter(o=>((e,o)=>{const t=o.replace(/ +/g," ").trim().split(" ");console.log("looking for %s => %s",typeof t,t.join());let n=!1;return t.forEach(o=>{e.title.toLowerCase().includes(o.toLowerCase())&&(n=!0)}),e.key==parseInt(o,10)||n})(o,e));return $(".all-links").fadeOut(),$(".filtred").remove(),o.forEach(o=>{var t;$(".links .list-group-flush").append(((e,o,t,n)=>"<a href='"+e+"' class='text-dark filtred' data-id='"+n+"'><div class='alink list-group-item d-flex pr-0 pl-0 row pt-0'><div class='d-flex offset-1 col-10 border-bottom pb-2 max-with'><p class='mb-0'><i class='fab fa-slack-hash fa-2x mr-4' aria-hidden='true'></i><div class='my-auto'><h6 class='mb-0'> "+o+"<h6><span class='badge badge-c-dark'>KEY: "+t+"</span></div> <div class='spinner-border ml-2 ' role='status'> <span class='sr-only'>Loading...</span> </div></p></div></div></a>")(o.url,(t=o.title,e.replace(/ +/g," ").trim().split(" ").forEach(e=>{""!==e&&(t=t.replace(new RegExp(e,"gi"),"aa1a"+e+"bb2b"))}),t=(t=t.replace(/aa1a/gi,"<span style='background-color: grey; color: #fff'>")).replace(/bb2b/gi,"</span>")),o.key,o._id))}),o},l=()=>{const e=$(".search form");$(".links").hide(),$(".searching").fadeIn(),o.emit("search",{keyword:e.find("input").val(),follower_id:r("follower_id"),influencer_id:$("body").data("influencerId")},o=>{const t=i(e.find("input").val());let r,l;const s=new Promise(e=>{$(".searching").fadeOut(()=>{e(!0)})});o.confirm&&t.length?o.confirm&&($("form input").data("id",o.search_id),r=new Promise(e=>{$(".links").show(()=>{e(!0)})}),l=new Promise(e=>{$(".result").hide(()=>{console.log("hide result callback"),e(!0)})}),console.log("showing the links")):(o.confirm?t.length||$(".result p").text("Can't find nothing!"):$(".result p").text(o.message),r=new Promise(e=>{$(".links").hide(()=>{e(!0)})}),l=new Promise(e=>{$(".result").show(()=>{console.log("hide result callback"),e(!0)})}),console.log("showing the error message")),Promise.all([s,r,l]).then(()=>{n.customize_footer()})})};$(".search form").submit((function(e){e.preventDefault(),l()})),$(".search form .fa-search").click((function(){console.log("click to research"),l()})),$("body").delegate(".links a","click",(function(e){e.preventDefault(),$(this).find(".spinner-border").show(),o.emit("click",{link_id:$(this).data("id"),follower_id:r("follower_id"),search_id:$("form input").data("id")},e=>{e.confirm?console.log("redirect to the link ..."):console.log(e.message),location.href=$(this).attr("href")})}))})},function(e,o){o.customize_footer=()=>{$(".links").css("margin-bottom","0px"),$(".result").css("margin-bottom","0px");const e=$("footer").offset().top,o=$("body").height();o>e&&($(".links").css("margin-bottom",o-e+"px"),$(".result").css("margin-bottom",o-e+"px"))}}]);